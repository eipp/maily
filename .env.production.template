# Maily Production Environment Configuration
# This file should be copied to .env.production and populated with actual values

# Core Configuration
NODE_ENV=production
API_URL=https://api.justmaily.com
WEB_URL=https://app.justmaily.com
PORT=8000
LOG_LEVEL=info

# Database Configuration
DB_USER=maily_production
DB_PASSWORD=change_me_in_production
DB_NAME=maily
DB_HOST=db
DB_PORT=5432
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# RabbitMQ Configuration
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=maily
RABBITMQ_PASSWORD=change_me_in_production
RABBITMQ_VHOST=/
RABBITMQ_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/${RABBITMQ_VHOST}

# JWT Authentication
JWT_SECRET=change_me_in_production
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=7d

# Email Service Configuration
EMAIL_PROVIDER=sendgrid # sendgrid, mailgun, resend
SENDGRID_API_KEY=change_me_in_production
MAILGUN_API_KEY=change_me_in_production
MAILGUN_DOMAIN=mail.justmaily.com
RESEND_API_KEY=change_me_in_production
EMAIL_FROM=noreply@justmaily.com
EMAIL_FROM_NAME=Maily

# AI Configuration
AI_PROVIDER=openai # openai, anthropic, google
OPENAI_API_KEY=change_me_in_production
ANTHROPIC_API_KEY=change_me_in_production
GOOGLE_AI_API_KEY=change_me_in_production
AI_MODEL=gpt-4

# Security Configuration
CORS_ALLOWED_ORIGINS=https://app.justmaily.com,https://justmaily.com
SESSION_SECRET=change_me_in_production
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENDPOINT=/metrics
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_in_production

# File Storage
STORAGE_TYPE=s3 # s3, local, azure
S3_BUCKET=justmaily-assets
S3_REGION=us-east-1
S3_ACCESS_KEY=change_me_in_production
S3_SECRET_KEY=change_me_in_production
S3_ENDPOINT=https://s3.amazonaws.com

# CDN Configuration
CDN_ENABLED=true
CDN_DOMAIN=static.justmaily.com
CDN_PROVIDER=cloudfront
CDN_KEY_PREFIX=assets/

# Blockchain Configuration for Trust Verification
BLOCKCHAIN_ENABLED=true
BLOCKCHAIN_PROVIDER=solana
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_WALLET_PRIVATE_KEY=change_me_in_production

# Feature Flags
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_BLOCKCHAIN_VERIFICATION=true
FEATURE_EMAIL_TEMPLATES=true
FEATURE_CANVAS_EDITOR=true
FEATURE_MULTI_PROVIDER=true

# Performance Tuning
MAX_WORKERS=4
CONNECTION_POOL_SIZE=20
REQUEST_TIMEOUT_MS=30000
MEMORY_CACHE_SIZE_MB=512
ENABLE_QUERY_CACHE=true
QUERY_CACHE_TTL_MS=60000

# Compliance
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=730
GDPR_CONSENT_REQUIRED=true
CANSPAM_COMPLIANCE=true

# Observability
ENABLE_TRACING=true
TRACING_SAMPLING_RATE=0.1
SENTRY_DSN=change_me_in_production
LANGFUSE_API_KEY=change_me_in_production
LANGFUSE_HOST=https://cloud.langfuse.com

# Docker registry for deployment
DOCKER_REGISTRY=ghcr.io/maily
IMAGE_TAG=latest

# Miscellaneous
TZ=UTC
NEXT_TELEMETRY_DISABLED=1
